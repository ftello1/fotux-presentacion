<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Fotux Chile ‚Äì Presentaci√≥n Empresa</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
:root{--bg:#111;--fg:#f0f0f0;--brand:#ffc107;--muted:#1a1a1a;--line:#333;}
*{box-sizing:border-box}
body{font-family:'Segoe UI',Arial,sans-serif;background:var(--bg);color:var(--fg);margin:0}
header{background:var(--brand);color:#111;display:flex;align-items:center;gap:20px;padding:12px 20px}
header img.logo{max-width:140px;height:auto}
h1,h2{color:var(--brand);margin:0 0 12px}
section{padding:40px 20px;border-bottom:1px solid var(--line);max-width:1400px;margin:0 auto}
p{margin:8px 0 0}

/* Hero con fallback si la imagen no est√° disponible */
.hero{
  background:#0d0d0d linear-gradient(135deg,#0f0f0f 0%,#181818 100%);
  color:#fff;text-shadow:1px 1px 4px rgba(0,0,0,0.85);padding:0;min-height:320px
}
.hero.has-bg{background-position:center;background-size:cover;background-repeat:no-repeat}
.hero .wrap{background:rgba(0,0,0,0.55);padding:32px 24px;border-radius:10px;margin:40px 20px}

/* Cat√°logo horizontal responsivo */
.catalogo{display:grid;gap:20px;grid-template-columns:repeat(3,minmax(280px,1fr))}
@media (max-width:980px){.catalogo{grid-template-columns:repeat(2,minmax(260px,1fr))}}
@media (max-width:640px){.catalogo{grid-template-columns:1fr}}
.producto{background:var(--muted);padding:16px;border-radius:8px;border:1px solid var(--brand);text-align:center}
.producto img{width:100%;height:auto;border:2px solid var(--brand);border-radius:6px;display:block}
.producto p{font-size:14px;line-height:1.45}

/* Calculadora */
.grid-form{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));background:#0e0e0e;padding:16px;border:1px solid var(--brand);border-radius:8px}
label{font-weight:600;font-size:13px}
input,select{width:100%;padding:8px;background:#181818;color:var(--fg);border:1px solid #444;border-radius:6px}
.result{margin-top:12px;padding:12px;background:#151515;border:1px solid #444;border-radius:8px}
.kpi{display:flex;flex-wrap:wrap;gap:12px;margin-top:8px}
.kpi div{background:#1a1a1a;padding:10px 12px;border:1px solid #333;border-radius:6px;min-width:170px}

/* Plano */
canvas{width:100%;max-width:100%;background:#0a0a0a;border:1px dashed #555;border-radius:8px}

/* Contacto */
.contacto{background:#222;padding:24px;border:1px solid var(--brand);border-radius:8px}
.contacto a{color:var(--brand);text-decoration:none}
</style>
</head>
<body>

<header>
  <img id="logo" class="logo" src="" alt="Logo Fotux">
  <div>
    <h1>FOTUX Light & Electrical</h1>
    <p>Soluciones LED de Alto Rendimiento para Industria, Miner√≠a y Construcci√≥n</p>
  </div>
</header>

<section id="hero" class="hero">
  <div class="wrap">
    <h2>Iluminaci√≥n Fotux: Potencia, precisi√≥n y cumplimiento</h2>
    <p>En <strong>FOTUX Light & Electrical</strong> dise√±amos luminarias LED con eficiencias de hasta <strong>210 lm/W</strong>, las m√°s eficientes de Chile, con certificaciones <strong>IP66 / IK10</strong> y cumplimiento de la <strong>Norma DS1</strong> vigente de contaminaci√≥n lum√≠nica, evitando multas y asegurando proyectos sostenibles.</p>
    <p>Somos especialistas en proyectos industriales y mineros: dise√±o lum√≠nico preciso, ahorro energ√©tico medible y soporte t√©cnico que entiende la operaci√≥n en terreno.</p>
  </div>
</section>

<section id="catalogo">
  <h2>Luminarias Fotux</h2>
  <div class="catalogo">
    <div class="producto">
      <img id="img-ufo" src="" alt="Campana Industrial Fotux">
      <p><strong>Campana Industrial</strong><br>100/150/200 W ‚Äì hasta 210 lm/W ‚Äì IP66/IK10 ‚Äì Flicker Free ‚Äì Dimmable</p>
    </div>
    <div class="producto">
      <img id="img-proyector" src="" alt="Proyector √Årea Tipo IV Fotux">
      <p><strong>Proyector √Årea Tipo IV</strong><br>150/200 W ‚Äì 150 lm/W ‚Äì IP66/IK10 ‚Äì 1700K/2200K ‚Äì Supresor 10 kV</p>
    </div>
    <div class="producto">
      <img id="img-publica" src="" alt="Luminaria P√∫blica 1700¬∞K GL AP-FOTUX">
      <p><strong>Luminaria P√∫blica</strong><br>120/150/200 W ‚Äì 105 lm/W ‚Äì IP66/IK10 ‚Äì Tipo II ‚Äì DS1</p>
    </div>
  </div>
</section>

<section id="calculadora">
  <h2>Calculadora lum√≠nica y retorno de inversi√≥n</h2>
  <div class="grid-form">
    <div>
      <label>Selecciona luminaria Fotux</label>
      <select id="preset">
        <option value="hb">Campana Industrial</option>
        <option value="tipoIV">Proyector √Årea Tipo IV</option>
        <option value="tipoII">Luminaria P√∫blica</option>
        <option value="custom">Personalizado</option>
      </select>
    </div>

    <div>
      <label>Flujo por luminaria (lm)</label>
      <input type="number" id="flujo" value="42000" min="1000" step="100">
    </div>
    <div>
      <label>Potencia por luminaria (W)</label>
      <input type="number" id="potencia" value="200" min="1" step="1">
    </div>

    <div>
      <label>Largo (m)</label>
      <input type="number" id="largo" value="30" min="1" step="0.1">
    </div>
    <div>
      <label>Ancho (m)</label>
      <input type="number" id="ancho" value="20" min="1" step="0.1">
    </div>
    <div>
      <label>Altura montaje (m)</label>
      <input type="number" id="altura" value="8" min="1" step="0.1">
    </div>

    <div>
      <label>Lux objetivo (lo define el cliente)</label>
      <input type="number" id="lux" value="300" min="10" step="10">
    </div>
    <div>
      <label title="Depreciaci√≥n del flujo por suciedad y envejecimiento">MF ‚Äì Factor de Mantenimiento</label>
      <input type="number" id="mf" value="0.80" min="0.1" max="1" step="0.01">
    </div>
    <div>
      <label title="Porcentaje del flujo que llega al plano √∫til seg√∫n geometr√≠a/superficies">UF ‚Äì Factor de Utilizaci√≥n</label>
      <input type="number" id="uf" value="0.60" min="0.1" max="1" step="0.01">
    </div>

    <div>
      <label>Horas/d√≠a</label>
      <input type="number" id="hpd" value="12" min="1" max="24" step="1">
    </div>
    <div>
      <label>D√≠as/a√±o</label>
      <input type="number" id="dpa" value="300" min="1" max="366" step="1">
    </div>
    <div>
      <label>Valor kWh ($)</label>
      <input type="number" id="kwh" value="120" step="1">
    </div>
    <div>
      <label>Costo por luminaria ($)</label>
      <input type="number" id="costoLum" value="150000" step="1000">
    </div>

    <div class="result">
      <strong>Resultados</strong>
      <div class="kpi">
        <div><strong>Cantidad Fotux:</strong> <span id="kpiN">0</span></div>
        <div><strong>Potencia total:</strong> <span id="kpiPtot">0</span> W</div>
        <div><strong>Consumo anual:</strong> <span id="kpiEnergia">0</span> kWh</div>
        <div><strong>Costo anual Fotux:</strong> $<span id="kpiCosto">0</span></div>
        <div><strong>Ahorro anual vs LED 100 lm/W:</strong> $<span id="kpiAhorro">0</span></div>
        <div><strong>Payback estimado:</strong> <span id="kpiPayback">0</span> a√±os</div>
      </div>
    </div>

    <div style="grid-column:1/-1">
      <label>Plano (top view) ‚Äî disposici√≥n calculada</label>
      <canvas id="plano" width="1000" height="640"></canvas>
    </div>
  </div>
</section>

<section class="contacto" id="contacto">
  <h2>Contacto</h2>
  <p><strong>Fernando Claudio Tello Cabello</strong><br>
  Key Account Manager ‚Äì Fotux Chile<br>
  üì± <a href="tel:+56966959221">+56 9 6695 9221</a><br>
  üìß <a href="mailto:ftello@fotux.cl">ftello@fotux.cl</a><br>
  üåê <a href="https://www.fotux.cl" target="_blank" rel="noopener">www.fotux.cl</a></p>
</section>

<script>
(function(){
  const $ = id => document.getElementById(id);

  // 1) Im√°genes: detectar el primer archivo existente en /img para cada elemento
  const candidates = {
    logo: ['logo_fotux_120px.webp','logo_fotux_1x02xwebp.png','logo_fotux_120px.png'],
    hero: ['EURO_SECTORES_DE_ALTA_TEMPERATURA.png','fondo-industrial.jpg','fondo-industrial.webp'],
    ufo:  ['HIGH_BAY_HB_GL-210lmFOTUX-1.webp','HIGH_BAY_HB_GL-210lmFOTUX-1.jpg'],
    proy: ['PROYECTOR_DE_AREA-170lm_GLITE_GL_FT.webp','PROYECTOR_DE_AREA-170lm_GLITE_GL_FT.jpg'],
    pub:  [
      'ALUMBRADO_PUBLICO_1700K_GL_AP-FOTUX.jpg',
      'ALUMBRADO_PUBLICO_TTOOK_GLA_P-FOTUX.jpg',
      'ALUMBRADO_PUBLICO-TOTONICAPAN_FOTUX.JPG',
      'ALUMBRADO_PUBLICO_TOT_X_ALUMBRADO_PUBLICO_TOT_X_ALFOTUILAP.png',
      'ALUMBRADO_PUBLICO_TOT_X_A_LFOTUALLP.png',
      'ALUMBRADO_PUBLICO_TOT_X_ALUMBRADO_PUBLICO_TOT_X_ALFOTUILAP_TOTUILAP.png',
      'ALUMBRADO_PUBLICO_TOT_X_ALUMBRADO_PUBLICO_TOT_X_ALFOTUILAP_TOTUILAP_ALFOTUILAP.png'
    ]
  };

  function trySetImg(el, list){
    if(!el) return;
    let i=0;
    (function next(){
      if(i>=list.length) return;
      const url = 'img/'+list[i]+'?v=12';
      const test = new Image();
      test.onload = ()=>{ el.src = url; };
      test.onerror = ()=>{ i++; next(); };
      test.src = url;
    })();
  }

  // Logo
  trySetImg(document.getElementById('logo'), candidates.logo);

  // Hero background
  (function(){
    const hero = document.getElementById('hero');
    let i=0;
    function next(){
      if(i>=candidates.hero.length) return;
      const url = 'img/'+candidates.hero[i]+'?v=12';
      const test = new Image();
      test.onload = ()=>{ hero.classList.add('has-bg'); hero.style.backgroundImage = `url('${url}')`; };
      test.onerror = ()=>{ i++; next(); };
      test.src = url;
    }
    next();
  })();

  // Cat√°logo
  trySetImg(document.getElementById('img-ufo'), candidates.ufo);
  trySetImg(document.getElementById('img-proyector'), candidates.proy);
  trySetImg(document.getElementById('img-publica'), candidates.pub);

  // 2) Calculadora + plano tipo Dialux (disposici√≥n en el dibujo; resultados sin disposici√≥n ni lux)
  const preset=$('preset'), flujo=$('flujo'), potencia=$('potencia'),
        largo=$('largo'), ancho=$('ancho'), altura=$('altura'),
        lux=$('lux'), mf=$('mf'), uf=$('uf'),
        hpd=$('hpd'), dpa=$('dpa'), kwh=$('kwh'),
        costoLum=$('costoLum');

  const kpiN=$('kpiN'), kpiPtot=$('kpiPtot'), kpiEnergia=$('kpiEnergia'),
        kpiCosto=$('kpiCosto'), kpiAhorro=$('kpiAhorro'), kpiPayback=$('kpiPayback');

  const canvas=$('plano'), ctx=canvas.getContext('2d');

  function applyPreset(){
    const p=preset.value;
    if(p==='hb'){ flujo.value=42000; potencia.value=200; uf.value=0.65; }
    if(p==='tipoIV'){ flujo.value=30000; potencia.value=200; uf.value=0.45; }
    if(p==='tipoII'){ flujo.value=18000; potencia.value=150; uf.value=0.40; }
  }

  function gridFor(N,L,W){
    const r=L/W;
    let ny=Math.ceil(Math.sqrt(N/r));
    let nx=Math.ceil(N/ny);
    return {nx,ny};
  }

  function update(){
    const L=+largo.value||0, W=+ancho.value||0, H=+altura.value||0;
    const E=+lux.value||0, MF=+mf.value||1, UF=+uf.value||1;
    const F=+flujo.value||1, P=+potencia.value||0;
    const horas=+hpd.value||0, dias=+dpa.value||0, kwhVal=+kwh.value||0;
    const costo=+costoLum.value||0;

    const area=L*W;
    const Nteo = Math.max(1, Math.ceil((E*area)/(F*UF*MF)));
    const {nx,ny}=gridFor(Nteo,L,W);
    const N = nx*ny;

    // Potencia y energ√≠a Fotux
    const Ptot = N*P;
    const kWhAnual = (Ptot/1000)*horas*dias;
    const costoAnual = kWhAnual*kwhVal;

    // Comparaci√≥n vs LED est√°ndar 100 lm/W a mismo objetivo (misma cantidad N para simplificar)
    const eficienciaStd = 100;       // lm/W
    const PotenciaStdEq = F / eficienciaStd; // W por equipo est√°ndar para igual flujo unitario
    const PtotStd = N * PotenciaStdEq;
    const kWhStd = (PtotStd/1000)*horas*dias;
    const ahorroAnual = Math.max(0,(kWhStd - kWhAnual)*kwhVal);

    // Inversi√≥n y payback
    const inversion = N * costo;
    const pb = (ahorroAnual>0)?(inversion/ahorroAnual):Infinity;

    // KPIs
    kpiN.textContent = N;
    kpiPtot.textContent = isFinite(Ptot)?Ptot.toFixed(0):'0';
    kpiEnergia.textContent = isFinite(kWhAnual)?kWhAnual.toFixed(0):'0';
    kpiCosto.textContent = isFinite(costoAnual)?costoAnual.toFixed(0):'0';
    kpiAhorro.textContent = isFinite(ahorroAnual)?ahorroAnual.toFixed(0):'0';
    kpiPayback.textContent = (pb===Infinity)?'‚àû':pb.toFixed(1);

    drawPlan(L,W,H,nx,ny);
  }

  function drawPlan(L,W,H,nx,ny){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    if(L<=0||W<=0) return;

    const margin=24, maxW=canvas.width-2*margin, scale=maxW/L;
    const targetH=Math.round(W*scale+2*margin);
    if(canvas.height!==targetH){ canvas.height=Math.min(900,Math.max(320,targetH)); }

    // √Årea
    ctx.strokeStyle='#777'; ctx.lineWidth=2;
    ctx.strokeRect(margin,margin,L*scale,W*scale);

    // Grid
    ctx.save(); ctx.strokeStyle='#333'; ctx.lineWidth=1;
    const step=(L>=40?5:2);
    for(let x=0;x<=L;x+=step){ const xx=margin+x*scale; ctx.beginPath(); ctx.moveTo(xx,margin); ctx.lineTo(xx,margin+W*scale); ctx.stroke(); }
    for(let y=0;y<=W;y+=step){ const yy=margin+y*scale; ctx.beginPath(); ctx.moveTo(margin,yy); ctx.lineTo(margin+L*scale,yy); ctx.stroke(); }
    ctx.restore();

    // Luminarias distribuidas (tipo Dialux)
    const dx=L/(nx+1), dy=W/(ny+1);
    ctx.fillStyle='#ffc107';
    for(let i=1;i<=nx;i++){
      for(let j=1;j<=ny;j++){
        const x=margin+i*dx*scale, y=margin+j*dy*scale;
        ctx.beginPath(); ctx.arc(x,y,6,0,Math.PI*2); ctx.fill();
      }
    }

    // Etiquetas en el dibujo
    ctx.fillStyle='#aaa'; ctx.font='13px Segoe UI';
    ctx.fillText(`Disposici√≥n: ${nx} √ó ${ny}`, margin, margin-10);
    ctx.fillText(`Largo: ${L} m`, margin+150, margin-10);
    ctx.save(); ctx.translate(margin-10, margin+W*scale); ctx.rotate(-Math.PI/2);
    ctx.fillText(`Ancho: ${W} m`, 0, 0); ctx.restore();
  }

  preset.addEventListener('change', ()=>{ if(preset.value!=='custom') applyPreset(); update(); });
  ['flujo','potencia','largo','ancho','altura','lux','mf','uf','hpd','dpa','kwh','costoLum']
    .forEach(id=>$(id).addEventListener('input', update));

  applyPreset();
  update();
})();
</script>

</body>
</html>
